# Railway configuration for Astro frontend

[build]
builder = "NIXPACKS"

[build.nixpacks]
# Astro requires Node.js >= 18.20.8
node_version = "20"

[deploy]
# Standalone mode outputs to dist/server/entry.mjs
startCommand = "node dist/server/entry.mjs"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Health check
healthcheckPath = "/"
healthcheckTimeout = 100

# Environment variables
[deploy.envs]
HOST = "0.0.0.0"
PORT = "8080"
